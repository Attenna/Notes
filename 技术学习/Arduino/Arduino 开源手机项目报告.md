_易靖哲 国际学院 电子信息工程 2024213570_

主题描述——一个启动器应用

       功能机的桌面启动器应用可以足够简单，因为机器上只有八个实体按键，所有关于桌面启动器的操作只能由这八个按键来进行。而且软件层面上也简单，使用状态机就可以解决。又因为Arduino本身“烧录一次，使用一次”的特性，我甚至不用为未来新增的应用程序写一个软件管理器。（明明就是想偷懒吧！╰（‵□′）╯）

功能设计和业务逻辑流

       我参照了市面上主流的功能机系统桌面布局，但是鉴于240*240分辨率的屏幕是如此的小，甚至小于我家的那个00年的诺基亚，我决定使用一个更简单粗暴的解决方案：

![西瓜皮app官方下载-西瓜皮儿童手表appv6.5.24 安卓版](file:///C:/Users/duck1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)

       基础款儿童手表！它的界面可以称之为极简，操作直观，简单，非常适合我孱弱的代码能力。

       要用语言描述它的功能还是有点难度的。我直接写出逻辑流程吧：

 Setup

1.     硬件初始化

2.     显示默认锁屏界面

Loop

3.     对用户的输入操作进行判定，上下左右，ABXY的键位做好映射

4.     按键输入影响状态机变化，让屏幕刷新不同的图标

5.     如果在图标处点击了A键，则启动相应代码块，状态机状态变化

6.     同理，在应用程序合适的位置点击了B键，则状态机变化，退回桌面启动器

流程图如下：

![Untitled | Visual Paradigm Online 和另外 1 个页面 - 个人 - Microsoft​ Edge](file:///C:/Users/duck1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png)

状态机是一个三维数组`int status[i][j][k]` ，初始化 `status[1][1][0]`。
其中，`status`里面的`i`取决与到底要做多少个应用。`j`是留给上下菜单的坐标。`k`则是给同一个应用的不同界面预留的位置。
也就是说，`i`来选择应用，`j`来控制上下快捷菜单，`k`来管理不同的应用界面跳转。
如果`i`大于应用的数目，则重新赋值`i = 1`回到初始桌面。

对于应用程序，它们就可以在这个框架上用代码块搭建自己想搭建的东西了
比方说：
	贪吃蛇游戏主界面对应`status[2][1][1]`
	通过按任意键进入游戏界面`status[2][1][2]`
	贪吃蛇撞墙而死则回到`status[2][1][1]`
	再按下B键返回到桌面，贪吃蛇图标处`status[2][1][0]`
